<div>
  <h2>Lista de Contenidos Educativos</h2>

  <div class="filtros-container">
    <button mat-button 
            [class.filtro-activo]="filtroActivo === 'todos'"
            (click)="cargarTodos()">
      <mat-icon>apps</mat-icon> Todos
    </button>

    <button mat-button 
            [class.filtro-activo]="filtroActivo === 'lecturas'"
            (click)="filtrarLecturas()">
      <mat-icon>article</mat-icon> Lecturas
    </button>

    <button mat-button 
            [class.filtro-activo]="filtroActivo === 'videos'"
            (click)="filtrarVideos()">
      <mat-icon>play_circle</mat-icon> Videos
    </button>
  </div>

  <div class="card-container">
    <mat-card *ngFor="let element of pagedData" class="mat-elevation-z8 contenido-card">
      </mat-card>
  </div>
  <div *ngIf="!dataSource || dataSource.length === 0" class="no-data-message">
    No hay contenidos para mostrar en esta categor√≠a.
  </div>

  <div class="card-container">
    <mat-card *ngFor="let element of pagedData" class="mat-elevation-z8 contenido-card">
      <mat-card-header>
        <mat-card-title class="titulo">{{ element.titulo }}</mat-card-title>
        <mat-card-subtitle>
          Tipo: {{ element.tipo }} <br />
          ID: {{ element.idContenidoEducativo }}
        </mat-card-subtitle>
      </mat-card-header>
      <div class="icon-container">
        <mat-icon class="icono-contenido">book</mat-icon>
      </div>
      <mat-card-content>
        <p>{{ element.descripcion }}</p>

        <br />

        <a mat-stroked-button color="primary" [href]="element.url" target="_blank">
          <mat-icon>link</mat-icon>
          Ir al contenido
        </a>
      </mat-card-content>

      @if (isAdmin) {
      <mat-card-actions align="end">
        <button mat-button [routerLink]="['edits', element.idContenidoEducativo]">
          <mat-icon>edit</mat-icon>
        </button>
        <button mat-button color="warn" (click)="eliminar(element.idContenidoEducativo)">
          <mat-icon>delete</mat-icon>
        </button>
      </mat-card-actions>
      }
    </mat-card>
  </div>

  <!-- Paginador -->
  <mat-paginator
    [length]="dataSource.length"
    [pageSize]="pageSize"
    [pageSizeOptions]="[2, 5, 10, 20]"
    (page)="onPageChange($event)"
    showFirstLastButtons
  >
  </mat-paginator>

  <!-- Mensaje cuando no hay datos -->
  <div *ngIf="!dataSource || dataSource.length === 0" class="no-data-message">
    No hay contenidos para mostrar.
  </div>
</div>
