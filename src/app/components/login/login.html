<!-- Header idéntico al de registro, pero con botón para ir a "Registrarse" -->
<header class="auth-header">
  <nav>
    <a routerLink="/home" class="logo-link">
      <!-- Asegúrate de que la ruta de la imagen sea correcta -->
      <img src="assets/images/logo_ecohabit_sinletras.png" alt="Icono EcoHabit" id="icono" />
      <span class="logo-text">EcoHabit</span>
    </a>
    <div class="header-actions">
      <a routerLink="/usuarioinsert" class="login-button">Registrarse</a>
    </div>
  </nav>
</header>

<div class="login-container">
  <mat-card class="login-card">
    <mat-card-header class="login-header">
      <mat-card-title class="titulo">¡Hola de nuevo!</mat-card-title>
      <mat-card-subtitle class="subtitulo">
        Ingresa a tu cuenta para continuar cuidando el planeta
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="form" (submit)="ingresar()">
        
        <!-- Campo Email -->
        <mat-form-field class="full-width-field" appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" placeholder="tu@email.com" />
          
          <!-- Mensajes de error -->
          <mat-error *ngIf="email?.invalid && (email?.dirty || email?.touched)">
            <span *ngIf="email?.hasError('required')">El email es obligatorio.</span>
            <span *ngIf="email?.hasError('email')">Ingresa un email válido.</span>
          </mat-error>
        </mat-form-field>

        <!-- Campo Contraseña -->
        <mat-form-field class="full-width-field" appearance="outline">
          <mat-label>Contraseña</mat-label>
          <input
            matInput
            [type]="hidePassword ? 'password' : 'text'"
            formControlName="password"
            placeholder="••••••••"
          />
          <button
            mat-icon-button
            matSuffix
            (click)="hidePassword = !hidePassword"
            type="button"
            aria-label="Ocultar contraseña"
          >
            <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
          </button>

          <mat-error *ngIf="password?.invalid && (password?.dirty || password?.touched)">
            <span *ngIf="password?.hasError('required')">La contraseña es obligatoria.</span>
          </mat-error>
        </mat-form-field>

        <!-- Botón de Acción Principal -->
        <button mat-flat-button class="login-submit-button" type="submit" [disabled]="!form.valid">
          INICIAR SESIÓN
        </button>

      </form>
    </mat-card-content>

    <!-- Pie de la tarjeta con enlaces -->
    <mat-card-actions class="login-footer">
      <div class="footer-links">
        <span>¿Olvidaste tu contraseña? <a routerLink="/recuperar">Recupérala aquí</a></span>
        <span>¿No tienes cuenta? <a routerLink="/usuarioinsert">Regístrate</a></span>
      </div>
    </mat-card-actions>
  </mat-card>
</div>
        
